/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { expect, test } from "vitest";
import { Glean } from "../index.js";
import { RFCDate } from "../types/index.js";
import { createTestHTTPClient } from "./testclient.js";

test("Insights Insights", async () => {
  const testHttpClient = createTestHTTPClient("insights");

  const glean = new Glean({
    httpClient: testHttpClient,
    bearerAuth: process.env["GLEAN_BEARER_AUTH"] ?? "value",
  });

  const result = await glean.client.insights.get({
    insightsRequest: {
      categories: [
        "CONTENT",
        "CONTENT",
      ],
    },
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    users: {
      activityInsights: [
        {
          user: {
            name: "George Clooney",
            obfuscatedId: "abc123",
            relatedDocuments: [],
            metadata: {
              type: "FULL_TIME",
              title: "Actor",
              department: "Movies",
              email: "george@example.com",
              location: "Hollywood, CA",
              phone: "6505551234",
              photoUrl: "https://example.com/george.jpg",
              startDate: new RFCDate("2000-01-23"),
              datasourceProfile: [
                {
                  datasource: "github",
                  handle: "<value>",
                },
                {
                  datasource: "github",
                  handle: "<value>",
                },
              ],
              querySuggestions: {
                suggestions: [],
              },
              inviteInfo: {
                invites: [],
              },
              customFields: [],
              badges: [
                {
                  key: "deployment_name_new_hire",
                  displayName: "New hire",
                  iconConfig: {
                    color: "#343CED",
                    key: "person_icon",
                    iconType: "GLYPH",
                    name: "user",
                  },
                },
              ],
            },
          },
          activity: "ALL",
        },
        {
          user: {
            name: "George Clooney",
            obfuscatedId: "abc123",
          },
          activity: "ALL",
        },
      ],
      inactiveInsights: [
        {
          user: {
            name: "George Clooney",
            obfuscatedId: "abc123",
          },
          activity: "SEARCH",
        },
      ],
    },
    content: {
      documentInsights: [
        {
          document: {
            metadata: {
              datasource: "datasource",
              objectType: "Feature Request",
              container: "container",
              parentId: "JIRA_EN-1337",
              mimeType: "mimeType",
              documentId: "documentId",
              createTime: new Date("2000-01-23T04:56:07.000Z"),
              updateTime: new Date("2000-01-23T04:56:07.000Z"),
              author: {
                name: "George Clooney",
                obfuscatedId: "abc123",
              },
              owner: {
                name: "George Clooney",
                obfuscatedId: "abc123",
              },
              mentionedPeople: [],
              components: [
                "Backend",
                "Networking",
              ],
              status: "[\"Done\"]",
              pins: [],
              assignedTo: {
                name: "George Clooney",
                obfuscatedId: "abc123",
              },
              updatedBy: {
                name: "George Clooney",
                obfuscatedId: "abc123",
              },
              collections: [],
              interactions: {
                reacts: [],
                shares: [],
              },
              verification: {
                state: "UNVERIFIED",
                metadata: {
                  lastVerifier: {
                    name: "George Clooney",
                    obfuscatedId: "abc123",
                  },
                  reminders: [],
                  lastReminder: {
                    assignee: {
                      name: "George Clooney",
                      obfuscatedId: "abc123",
                    },
                    requestor: {
                      name: "George Clooney",
                      obfuscatedId: "abc123",
                    },
                    remindAt: 129663,
                  },
                  candidateVerifiers: [],
                },
              },
              customData: {
                "someCustomField": {},
              },
              contactPerson: {
                name: "George Clooney",
                obfuscatedId: "abc123",
              },
            },
          },
        },
        {
          document: {},
        },
      ],
    },
    collections: {
      documentInsights: [],
    },
    collectionsV2: {
      documentInsights: [],
    },
    announcements: {
      documentInsights: [],
    },
    answers: {
      documentInsights: [],
    },
    ai: {
      assistantInsights: [
        {
          user: {
            name: "George Clooney",
            obfuscatedId: "abc123",
          },
          activity: "ALL",
        },
        {
          user: {
            name: "George Clooney",
            obfuscatedId: "abc123",
          },
          activity: "ALL",
        },
        {
          user: {
            name: "George Clooney",
            obfuscatedId: "abc123",
          },
          activity: "ALL",
        },
      ],
    },
    aiApps: {
      aiAppInsights: [
        {
          user: {
            name: "George Clooney",
            obfuscatedId: "abc123",
          },
          activity: "ALL",
        },
      ],
    },
    gleanAssist: {
      activityInsights: [],
    },
  });
});
