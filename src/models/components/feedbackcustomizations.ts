/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  FeedbackChannel,
  FeedbackChannel$inboundSchema,
  FeedbackChannel$outboundSchema,
} from "./feedbackchannel.js";

export type FeedbackCustomizations = {
  /**
   * The channels to which feedback will be sent for any feature that does not have specific configuration.
   */
  defaultChannels?: Array<FeedbackChannel> | undefined;
  /**
   * The channels to which feedback will be sent for individual features. The keys of the map will match the values in FeedbackFeature. Features not present in the map should use defaultChannels.
   */
  featureChannels?: { [k: string]: Array<FeedbackChannel> } | undefined;
  /**
   * A custom message shown to users during the in-product feedback flow, e.g. to warn users against sending sensitive or personally-identifying information.
   */
  disclaimer?: string | undefined;
  /**
   * An optional link to a privacy policy provided by the users' company that will be shown to them during the in-product feedback flow if their company will receive their feedback. Glean's policy will also be shown if Glean is receiving the feedback.
   */
  companyPrivacyPolicyLink?: string | undefined;
  /**
   * User visible text shown when seeking support to guide them to their company's internal support page when appropriate
   */
  supportMessage?: string | undefined;
  /**
   * User visible text that will link to the user's company's internal support page
   */
  supportLinkText?: string | undefined;
  /**
   * URL to the user's company's internal suport page
   */
  supportLink?: string | undefined;
};

/** @internal */
export const FeedbackCustomizations$inboundSchema: z.ZodType<
  FeedbackCustomizations,
  z.ZodTypeDef,
  unknown
> = z.object({
  defaultChannels: z.array(FeedbackChannel$inboundSchema).optional(),
  featureChannels: z.record(z.array(FeedbackChannel$inboundSchema)).optional(),
  disclaimer: z.string().optional(),
  companyPrivacyPolicyLink: z.string().optional(),
  supportMessage: z.string().optional(),
  supportLinkText: z.string().optional(),
  supportLink: z.string().optional(),
});

/** @internal */
export type FeedbackCustomizations$Outbound = {
  defaultChannels?: Array<string> | undefined;
  featureChannels?: { [k: string]: Array<string> } | undefined;
  disclaimer?: string | undefined;
  companyPrivacyPolicyLink?: string | undefined;
  supportMessage?: string | undefined;
  supportLinkText?: string | undefined;
  supportLink?: string | undefined;
};

/** @internal */
export const FeedbackCustomizations$outboundSchema: z.ZodType<
  FeedbackCustomizations$Outbound,
  z.ZodTypeDef,
  FeedbackCustomizations
> = z.object({
  defaultChannels: z.array(FeedbackChannel$outboundSchema).optional(),
  featureChannels: z.record(z.array(FeedbackChannel$outboundSchema)).optional(),
  disclaimer: z.string().optional(),
  companyPrivacyPolicyLink: z.string().optional(),
  supportMessage: z.string().optional(),
  supportLinkText: z.string().optional(),
  supportLink: z.string().optional(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace FeedbackCustomizations$ {
  /** @deprecated use `FeedbackCustomizations$inboundSchema` instead. */
  export const inboundSchema = FeedbackCustomizations$inboundSchema;
  /** @deprecated use `FeedbackCustomizations$outboundSchema` instead. */
  export const outboundSchema = FeedbackCustomizations$outboundSchema;
  /** @deprecated use `FeedbackCustomizations$Outbound` instead. */
  export type Outbound = FeedbackCustomizations$Outbound;
}

export function feedbackCustomizationsToJSON(
  feedbackCustomizations: FeedbackCustomizations,
): string {
  return JSON.stringify(
    FeedbackCustomizations$outboundSchema.parse(feedbackCustomizations),
  );
}

export function feedbackCustomizationsFromJSON(
  jsonString: string,
): SafeParseResult<FeedbackCustomizations, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => FeedbackCustomizations$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'FeedbackCustomizations' from JSON`,
  );
}
