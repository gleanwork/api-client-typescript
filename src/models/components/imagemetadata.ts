/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  ImageType,
  ImageType$inboundSchema,
  ImageType$outboundSchema,
} from "./imagetype.js";

export type ImageMetadata = {
  /**
   * The type of the image that determines how to interprets metadata and where the image will be stored
   */
  type: ImageType;
  /**
   * ID, if a specific entity/type is requested. The id may have different meaning for each type. For USER, it is user id For UGC, it is the id of the content For ICON, the doctype. For DOCUMENT_IMAGE, it is the id of the image.
   */
  id?: string | undefined;
  /**
   * A specific datasource for which an image is requested for. The ds may have different meaning for each type and can also be empty for some. For USER, it is empty or datasource the icon is asked for. For UGC, it is the UGC datasource. For ICON, it is datasource instance the icon is asked for.
   */
  ds?: string | undefined;
  /**
   * Content id to differentitate multiple images that can have the same type and datasource e.g. thumnail or image from content of UGC. It can also be empty.
   */
  cid?: string | undefined;
  /**
   * Doc Id of the document for document images.
   */
  docid?: string | undefined;
  /**
   * Extension the image is saved with. The extension data is deduced from content type for image uploads.
   */
  ext?: string | undefined;
};

/** @internal */
export const ImageMetadata$inboundSchema: z.ZodType<
  ImageMetadata,
  z.ZodTypeDef,
  unknown
> = z.object({
  type: ImageType$inboundSchema,
  id: z.string().optional(),
  ds: z.string().optional(),
  cid: z.string().optional(),
  docid: z.string().optional(),
  ext: z.string().optional(),
});

/** @internal */
export type ImageMetadata$Outbound = {
  type: string;
  id?: string | undefined;
  ds?: string | undefined;
  cid?: string | undefined;
  docid?: string | undefined;
  ext?: string | undefined;
};

/** @internal */
export const ImageMetadata$outboundSchema: z.ZodType<
  ImageMetadata$Outbound,
  z.ZodTypeDef,
  ImageMetadata
> = z.object({
  type: ImageType$outboundSchema,
  id: z.string().optional(),
  ds: z.string().optional(),
  cid: z.string().optional(),
  docid: z.string().optional(),
  ext: z.string().optional(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace ImageMetadata$ {
  /** @deprecated use `ImageMetadata$inboundSchema` instead. */
  export const inboundSchema = ImageMetadata$inboundSchema;
  /** @deprecated use `ImageMetadata$outboundSchema` instead. */
  export const outboundSchema = ImageMetadata$outboundSchema;
  /** @deprecated use `ImageMetadata$Outbound` instead. */
  export type Outbound = ImageMetadata$Outbound;
}

export function imageMetadataToJSON(imageMetadata: ImageMetadata): string {
  return JSON.stringify(ImageMetadata$outboundSchema.parse(imageMetadata));
}

export function imageMetadataFromJSON(
  jsonString: string,
): SafeParseResult<ImageMetadata, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ImageMetadata$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ImageMetadata' from JSON`,
  );
}
